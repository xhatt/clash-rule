############################################
# Shadowrocket é…ç½®ï¼ˆClash ç­‰ä»·è½¬æ¢ï¼‰
# è‡ªåŠ¨åœ°åŒºåˆ†ç»„ Â· ä¸å†™æ­»èŠ‚ç‚¹
############################################

[General]
bypass-system = true
ipv6 = true
prefer-ipv6 = false
icmp-auto-reply = true

dns-server = https://doh.pub/dns-query,https://dns.alidns.com/dns-query,223.5.5.5,119.29.29.29
fallback-dns-server = system
dns-direct-fallback-proxy = true
private-ip-answer = true

skip-proxy = 127.0.0.1,localhost,*.local,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12

hijack-dns = 8.8.8.8:53,8.8.4.4:53


############################################
# ä»£ç†èŠ‚ç‚¹ï¼ˆç”±è®¢é˜…æä¾›ï¼Œè¿™é‡Œç•™ç©ºï¼‰
############################################
[Proxy]


############################################
# ç­–ç•¥ç»„ï¼ˆæ ¸å¿ƒï¼‰
############################################
[Proxy Group]

ğŸš€ èŠ‚ç‚¹é€‰æ‹© = select,â™»ï¸ è‡ªåŠ¨é€‰æ‹©,ğŸš€ æ‰‹åŠ¨åˆ‡æ¢,ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹,ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹,ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹,ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹,ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹,ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹,ğŸ‡¬ğŸ‡§ è‹±å›½èŠ‚ç‚¹,ğŸ‡©ğŸ‡ª å¾·å›½èŠ‚ç‚¹,ğŸ‡³ğŸ‡± è·å…°èŠ‚ç‚¹,ğŸ‡¦ğŸ‡º æ¾³å¤§åˆ©äºšèŠ‚ç‚¹,ğŸŒ å…¶ä»–åœ°åŒº,DIRECT

ğŸš€ æ‰‹åŠ¨åˆ‡æ¢ = select,policy-regex-filter=.*,DIRECT
â™»ï¸ è‡ªåŠ¨é€‰æ‹© = url-test,policy-regex-filter=.*,url=http://www.gstatic.com/generate_204,interval=300,timeout=5,tolerance=50


############################################
# â€”â€” æœåŠ¡ä¸“ç”¨ç­–ç•¥ç»„ï¼ˆå¯æ‰‹åŠ¨åˆ‡æ¢ï¼‰ â€”â€”
############################################

ğŸ¤– ChatGPT = select,â™»ï¸ è‡ªåŠ¨é€‰æ‹©,ğŸš€ æ‰‹åŠ¨åˆ‡æ¢,ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹,ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹,ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹,ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹,ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹,ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹,ğŸ‡¬ğŸ‡§ è‹±å›½èŠ‚ç‚¹,ğŸ‡©ğŸ‡ª å¾·å›½èŠ‚ç‚¹,ğŸ‡³ğŸ‡± è·å…°èŠ‚ç‚¹,ğŸ‡¦ğŸ‡º æ¾³å¤§åˆ©äºšèŠ‚ç‚¹,ğŸŒ å…¶ä»–åœ°åŒº,DIRECT,policy-select-name=ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
âœ¨ Gemini = select,â™»ï¸ è‡ªåŠ¨é€‰æ‹©,ğŸš€ æ‰‹åŠ¨åˆ‡æ¢,ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹,ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹,ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹,ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹,ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹,ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹,ğŸ‡¬ğŸ‡§ è‹±å›½èŠ‚ç‚¹,ğŸ‡©ğŸ‡ª å¾·å›½èŠ‚ç‚¹,ğŸ‡³ğŸ‡± è·å…°èŠ‚ç‚¹,ğŸ‡¦ğŸ‡º æ¾³å¤§åˆ©äºšèŠ‚ç‚¹,ğŸŒ å…¶ä»–åœ°åŒº,DIRECT,policy-select-name=ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
ğŸ’° åŠ å¯†è´§å¸ = select,â™»ï¸ è‡ªåŠ¨é€‰æ‹©,ğŸš€ æ‰‹åŠ¨åˆ‡æ¢,ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹,ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹,ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹,ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹,ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹,ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹,ğŸ‡¬ğŸ‡§ è‹±å›½èŠ‚ç‚¹,ğŸ‡©ğŸ‡ª å¾·å›½èŠ‚ç‚¹,ğŸ‡³ğŸ‡± è·å…°èŠ‚ç‚¹,ğŸ‡¦ğŸ‡º æ¾³å¤§åˆ©äºšèŠ‚ç‚¹,ğŸŒ å…¶ä»–åœ°åŒº,DIRECT,policy-select-name=ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹


############################################
# â€”â€” åœ°åŒºåˆ†ç»„ï¼ˆæ­£åˆ™ + DIRECTå…œåº•ï¼‰ â€”â€”
############################################

ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹ = url-test,policy-regex-filter=(æ¸¯|HK|Hong Kong),url=http://www.gstatic.com/generate_204,interval=300,timeout=5,tolerance=50,DIRECT

ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹ = url-test,policy-regex-filter=(å°|æ–°åŒ—|å½°åŒ–|TW|Taiwan),url=http://www.gstatic.com/generate_204,interval=300,timeout=5,tolerance=50,DIRECT

ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹ = url-test,policy-regex-filter=(æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|[^-]æ—¥|JP|Japan),url=http://www.gstatic.com/generate_204,interval=300,timeout=5,tolerance=50,DIRECT

ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹ = url-test,policy-regex-filter=(æ–°åŠ å¡|å¡|å¹¿æ–°|å¡ç‹®åŸ|SG|Singapore),url=http://www.gstatic.com/generate_204,interval=300,timeout=5,tolerance=50,DIRECT

ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹ = url-test,policy-regex-filter=(KR|Korea|KOR|é¦–å°”|éŸ©|éŸ“),url=http://www.gstatic.com/generate_204,interval=300,timeout=5,tolerance=50,DIRECT

ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹ = url-test,policy-regex-filter=(ç¾|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|US|United States),url=http://www.gstatic.com/generate_204,interval=300,timeout=5,tolerance=150,DIRECT

ğŸ‡¬ğŸ‡§ è‹±å›½èŠ‚ç‚¹ = url-test,policy-regex-filter=(UK|United Kingdom|ä¼¦æ•¦|è‹±å›½),url=http://www.gstatic.com/generate_204,interval=300,timeout=5,tolerance=80,DIRECT

ğŸ‡©ğŸ‡ª å¾·å›½èŠ‚ç‚¹ = url-test,policy-regex-filter=(DE|Germany|æ³•å…°å…‹ç¦|å¾·å›½),url=http://www.gstatic.com/generate_204,interval=300,timeout=5,tolerance=80,DIRECT

ğŸ‡³ğŸ‡± è·å…°èŠ‚ç‚¹ = url-test,policy-regex-filter=(NL|Netherlands|é˜¿å§†æ–¯ç‰¹ä¸¹|è·å…°),url=http://www.gstatic.com/generate_204,interval=300,timeout=5,tolerance=80,DIRECT

ğŸ‡¦ğŸ‡º æ¾³å¤§åˆ©äºšèŠ‚ç‚¹ = url-test,policy-regex-filter=(AU|Australia|æ‚‰å°¼|æ¾³å¤§åˆ©äºš),url=http://www.gstatic.com/generate_204,interval=300,timeout=5,tolerance=120,DIRECT

ğŸŒ å…¶ä»–åœ°åŒº = url-test,policy-regex-filter=.*,url=http://www.gstatic.com/generate_204,interval=300,timeout=5,tolerance=100,DIRECT

ğŸŸ æ¼ç½‘ä¹‹é±¼ = select,â™»ï¸ è‡ªåŠ¨é€‰æ‹©,ğŸš€ æ‰‹åŠ¨åˆ‡æ¢,ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹,ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹,ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹,ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹,ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹,ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹,ğŸ‡¬ğŸ‡§ è‹±å›½èŠ‚ç‚¹,ğŸ‡©ğŸ‡ª å¾·å›½èŠ‚ç‚¹,ğŸ‡³ğŸ‡± è·å…°èŠ‚ç‚¹,ğŸ‡¦ğŸ‡º æ¾³å¤§åˆ©äºšèŠ‚ç‚¹,ğŸŒ å…¶ä»–åœ°åŒº,DIRECT

############################################
# è§„åˆ™åˆ†æµ
############################################
[Rule]

RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/OpenAi.list,ğŸ¤– ChatGPT
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Gemini/Gemini.list,âœ¨ Gemini
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Crypto.list,ğŸ’° åŠ å¯†è´§å¸

RULE-SET,https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/gfw.txt,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
RULE-SET,https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/cncidr.txt,DIRECT
GEOIP,CN,DIRECT

RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Lan/Lan.list,DIRECT

FINAL,ğŸŸ æ¼ç½‘ä¹‹é±¼

[Host]
# åŸŸåæŒ‡å®šæœ¬åœ°å€¼ï¼š
# example.com = 1.2.3.4

# åŸŸåæŒ‡å®š DNS æœåŠ¡å™¨ï¼š
# example.com = server:1.2.3.4

# wifiåç§°æŒ‡å®š DNS æœåŠ¡å™¨ï¼Œå¦‚éœ€æŒ‡å®šå¤šä¸ª DNSï¼Œå¯ç”¨é€—å·åˆ†éš”ï¼š
# ssid:wifiåç§° = server:1.2.3.4

*.apple.com = server:system
*.icloud.com = server:system
localhost = 127.0.0.1

[URL Rewrite]
# Googleæœç´¢å¼•æ“é˜²è·³è½¬çš„é‡å†™ã€‚
^https?://(www.)?g.cn https://www.google.com 302
^https?://(www.)?google.cn https://www.google.com 302

[MITM]
# Shadowrocketä»…ä¼šè§£å¯†hostnameæŒ‡å®šçš„åŸŸåçš„è¯·æ±‚ï¼Œå¯ä»¥ä½¿ç”¨é€šé…ç¬¦ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨å‰ç¼€ - æ’é™¤ç‰¹å®šä¸»æœºåï¼Œå¦‚ -*.example.comã€‚iOSç³»ç»Ÿå’ŒæŸäº›åº”ç”¨æœ‰ä¸¥æ ¼çš„å®‰å…¨ç­–ç•¥ï¼Œä»…ä¿¡ä»»æŸäº›ç‰¹å®šçš„è¯ä¹¦ï¼Œå¯¹è¿™äº›åŸŸåå¯åŠ¨è§£å¯†å¯èƒ½å¯¼è‡´é—®é¢˜ï¼Œå¦‚ *.apple.comï¼Œ*.icloud.comã€‚

hostname = *.google.cn
